(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const h=document.getElementById("startbutton"),u=document.getElementById("gameContainer"),L=document.getElementById("points"),p=document.getElementById("audio"),C=document.getElementById("roundCounter");let o=[],r=[],d=0,f=!1,m=0;const I=()=>{h.disabled=!0,console.log("El juego ha comenzado"),f=!0,y(),E()},v=l=>{if(!f)return;const s=l.target.dataset.id;if(g(s),r.length<o.length){r.push(s),w();const i=parseInt(s),n=u.children[i];n.classList.add("selected"),setTimeout(()=>{n.classList.remove("selected")},500)}},x=()=>{let l=0;const s=()=>{if(l<o.length){const n=parseInt(o[l]),e=u.children[n];g(n),e.classList.add("selected"),setTimeout(()=>{e.classList.remove("selected"),l++,s()},1e3)}else i()},i=()=>{let n=o[o.length-1];for(let e=0;e<1;e++)setTimeout(()=>{let t;do t=Math.floor(Math.random()*4).toString(),g(t);while(t===n);o.push(t),console.log("Elección de la computadora:",o);let c=parseInt(o[o.length-1]),a=u.children[c];c===n?(a.classList.remove("selected"),setTimeout(()=>{a.classList.add("selected")},10)):a.classList.add("selected"),n=c,setTimeout(()=>{a.classList.remove("selected")},500),o.length===d&&P()},(e+1)*200)};setTimeout(function(){s()},1e3)},P=()=>{u.addEventListener("click",v)},w=()=>{console.log("Elección del jugador:",r),console.log("Elección de la computadora:",o),r.length===o.length&&(o.toString()===r.toString()?(console.log("¡Ganaste!"),B()):(console.log("Perdiste"),f=!1),y())},y=()=>{d++,r=[],console.log("Nueva ronda. Longitud de la secuencia:",d),x(),E()},B=()=>{m=m+100,L.textContent=m},g=l=>{p.src=`./assets/${l}.mp3`,p.play(),console.log(l)},E=()=>{d<10&&(C.textContent=`0${d}`)};h.addEventListener("click",I);
